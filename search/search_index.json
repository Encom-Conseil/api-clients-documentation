{"config":{"indexing":"full","lang":["en"],"min_search_length":3,"prebuild_index":false,"separator":"[\\s\\-]+"},"docs":[{"location":"","text":"Documentation de l'API Clients Encom Encom est une entreprise Telecom qui aide ses clients \u00e0 communiquer de fa\u00e7on plus productive et plus agile, en leur apportant des solutions innovantes de connectivit\u00e9 Internet, de t\u00e9l\u00e9phonie et de communications unifi\u00e9es. Si vous souhaitez en savoir plus sur Encom, vistez notre site . L'API permet aux clients Encom de configurer et d'utiliser les services Telecom d'Encom depuis leurs applications-m\u00e9tier.","title":"Home"},{"location":"#documentation-de-lapi-clients-encom","text":"Encom est une entreprise Telecom qui aide ses clients \u00e0 communiquer de fa\u00e7on plus productive et plus agile, en leur apportant des solutions innovantes de connectivit\u00e9 Internet, de t\u00e9l\u00e9phonie et de communications unifi\u00e9es. Si vous souhaitez en savoir plus sur Encom, vistez notre site . L'API permet aux clients Encom de configurer et d'utiliser les services Telecom d'Encom depuis leurs applications-m\u00e9tier.","title":"Documentation de l'API Clients Encom"},{"location":"encom-api-sms/","text":"L'API SMS Encom L'API SMS Encom vous permet d'envoyer facilement des SMS transactionnels ou marketing depuis vos applications m\u00e9tiers. Il est possible d'envoyer des messages unitaires (vers un seul destinataire) ou des messages group\u00e9s (vers une liste de diffusion). L'API SMS vous permet en outre de g\u00e9rer vos listes de diffusion et vos destinaires.","title":"Introduction"},{"location":"encom-api-sms/#lapi-sms-encom","text":"L'API SMS Encom vous permet d'envoyer facilement des SMS transactionnels ou marketing depuis vos applications m\u00e9tiers. Il est possible d'envoyer des messages unitaires (vers un seul destinataire) ou des messages group\u00e9s (vers une liste de diffusion). L'API SMS vous permet en outre de g\u00e9rer vos listes de diffusion et vos destinaires.","title":"L'API SMS Encom"},{"location":"smart-routings-v0/","text":"Routages intelligents Il est possible d'interroger l'Api Clients Encom, soit par rapport au num\u00e9ro de l'appelant, soit par rapport \u00e0 un code que celui-ci est invit\u00e9 \u00e0 saisir. En principe, votre call flow tentera d'abord de reconna\u00eetre l'appelant par son num\u00e9ro, et ne l'invitera \u00e0 saisir son code d'identification que s'il n'est pas d\u00e9j\u00e0 reconnu. Une fois l'appelant identifi\u00e9 par l'une ou l'autre des m\u00e9thodes, l'Api Clients Encom vous indiquera vers quelle file d'appels le diriger, mais aussi s'il est VIP et/ou sous contrat d'astreinte. Note importante : le param\u00e8tre \"customerAccount\", qui correspond au compte client Encom, doit \u00eatre pass\u00e9 dans toutes les requ\u00eates vers l'API Clients Encom. En effet, le jeton d'identification est personnel et son d\u00e9tenteur peut dans certains cas avoir acc\u00e8s \u00e0 plusieurs comptes clients. D\u00e9terminer la file d'appels de destination en fonction du num\u00e9ro de l'appelant * GET /api/{customerAccount}/customer/number/{number} Exemples de requ\u00eate Curl curl --request GET \\ --url https://clients.encom-conseil.fr/api/{customerAccount}/customer/number/{number} \\ --header 'Authorization: Bearer {token}' R\u00e9ponse Si le num\u00e9ro de l'appelant est trouv\u00e9, la file d'appels correspondante est retourn\u00e9e sous forme de cha\u00eene, par exemple : 900 S'il n'est pas trouv\u00e9, un message \"not found\" est envoy\u00e9 au format JSON avec un code 404. D\u00e9terminer si l'appelant est VIP en fonction de son num\u00e9ro GET /api/{customerAccount}/customer/isVipFromNumber/{number} R\u00e9ponse Si le num\u00e9ro de l'appelant est trouv\u00e9, un message true (s'il est VIP) ou false (s'il ne l'est pas) est renvoy\u00e9 au format JSON avec un code 200. S'il n'est pas trouv\u00e9, un message \"not found\" est renvoy\u00e9 au format JSON avec un code 404. D\u00e9terminer si l'appelant est sous contrat d'astreinte en fonction de son num\u00e9ro GET /api/{customerAccount}/customer/hasOnCallDutyContractFromNumber/{number} R\u00e9ponse Si le num\u00e9ro de l'appelant est trouv\u00e9, un message true (s'il est sous contrat d'astreinte) ou false (s'il ne l'est pas) est renvoy\u00e9 au format JSON avec un code 200. S'il n'est pas trouv\u00e9, un message \"not found\" est renvoy\u00e9 au format JSON avec un code 404. D\u00e9terminer la file d'appels de destination en fonction du code saisi par l'appelant GET /api/{customerAccount}/customer/code/{code} R\u00e9ponse Si le code saisi par l'appelant est reconnu, la file d'appels correspondante est retourn\u00e9e sous forme de cha\u00eene, par exemple : 900 S'il n'est pas reconnu, un message \"not found\" est envoy\u00e9 au format JSON avec un code 404. D\u00e9terminer si l'appelant est VIP en fonction du code saisi GET /api/{cutomerAccount}/customer/isVipFromCode/{code} R\u00e9ponse Si le code saisi par l'appelant est reconnu, un message true (s'il est VIP) ou false (s'il ne l'est pas) est renvoy\u00e9 au format JSON avec un code 200. S'il n'est pas reconnu, un message \"not found\" est renvoy\u00e9 au format JSON avec un code 404. D\u00e9terminer si l'appelant est sous contrat d'astreinte en fonction du code saisi GET /api/{customerAccount}/customer/hasOnCallDutyContractFromCode/{code} R\u00e9ponse Si le code saisi par l'appelant est reconnu, un message true (s'il est sous contrat d'astreinte) ou false (s'il ne l'est pas) est renvoy\u00e9 au format JSON avec un code 200. S'il n'est pas reconnu, un message \"not found\" est renvoy\u00e9 au format JSON avec un code 404.","title":"Routages intelligents (legacy)"},{"location":"smart-routings-v0/#routages-intelligents","text":"Il est possible d'interroger l'Api Clients Encom, soit par rapport au num\u00e9ro de l'appelant, soit par rapport \u00e0 un code que celui-ci est invit\u00e9 \u00e0 saisir. En principe, votre call flow tentera d'abord de reconna\u00eetre l'appelant par son num\u00e9ro, et ne l'invitera \u00e0 saisir son code d'identification que s'il n'est pas d\u00e9j\u00e0 reconnu. Une fois l'appelant identifi\u00e9 par l'une ou l'autre des m\u00e9thodes, l'Api Clients Encom vous indiquera vers quelle file d'appels le diriger, mais aussi s'il est VIP et/ou sous contrat d'astreinte. Note importante : le param\u00e8tre \"customerAccount\", qui correspond au compte client Encom, doit \u00eatre pass\u00e9 dans toutes les requ\u00eates vers l'API Clients Encom. En effet, le jeton d'identification est personnel et son d\u00e9tenteur peut dans certains cas avoir acc\u00e8s \u00e0 plusieurs comptes clients.","title":"Routages intelligents"},{"location":"smart-routings-v0/#determiner-la-file-dappels-de-destination-en-fonction-du-numero-de-lappelant","text":"* GET /api/{customerAccount}/customer/number/{number}","title":"D\u00e9terminer la file d'appels de destination en fonction du num\u00e9ro de l'appelant"},{"location":"smart-routings-v0/#exemples-de-requete","text":"","title":"Exemples de requ\u00eate"},{"location":"smart-routings-v0/#curl","text":"curl --request GET \\ --url https://clients.encom-conseil.fr/api/{customerAccount}/customer/number/{number} \\ --header 'Authorization: Bearer {token}'","title":"Curl"},{"location":"smart-routings-v0/#reponse","text":"Si le num\u00e9ro de l'appelant est trouv\u00e9, la file d'appels correspondante est retourn\u00e9e sous forme de cha\u00eene, par exemple : 900 S'il n'est pas trouv\u00e9, un message \"not found\" est envoy\u00e9 au format JSON avec un code 404.","title":"R\u00e9ponse"},{"location":"smart-routings-v0/#determiner-si-lappelant-est-vip-en-fonction-de-son-numero","text":"GET /api/{customerAccount}/customer/isVipFromNumber/{number}","title":"D\u00e9terminer si l'appelant est VIP en fonction de son num\u00e9ro"},{"location":"smart-routings-v0/#reponse_1","text":"Si le num\u00e9ro de l'appelant est trouv\u00e9, un message true (s'il est VIP) ou false (s'il ne l'est pas) est renvoy\u00e9 au format JSON avec un code 200. S'il n'est pas trouv\u00e9, un message \"not found\" est renvoy\u00e9 au format JSON avec un code 404.","title":"R\u00e9ponse"},{"location":"smart-routings-v0/#determiner-si-lappelant-est-sous-contrat-dastreinte-en-fonction-de-son-numero","text":"GET /api/{customerAccount}/customer/hasOnCallDutyContractFromNumber/{number}","title":"D\u00e9terminer si l'appelant est sous contrat d'astreinte en fonction de son num\u00e9ro"},{"location":"smart-routings-v0/#reponse_2","text":"Si le num\u00e9ro de l'appelant est trouv\u00e9, un message true (s'il est sous contrat d'astreinte) ou false (s'il ne l'est pas) est renvoy\u00e9 au format JSON avec un code 200. S'il n'est pas trouv\u00e9, un message \"not found\" est renvoy\u00e9 au format JSON avec un code 404.","title":"R\u00e9ponse"},{"location":"smart-routings-v0/#determiner-la-file-dappels-de-destination-en-fonction-du-code-saisi-par-lappelant","text":"GET /api/{customerAccount}/customer/code/{code}","title":"D\u00e9terminer la file d'appels de destination en fonction du code saisi par l'appelant"},{"location":"smart-routings-v0/#reponse_3","text":"Si le code saisi par l'appelant est reconnu, la file d'appels correspondante est retourn\u00e9e sous forme de cha\u00eene, par exemple : 900 S'il n'est pas reconnu, un message \"not found\" est envoy\u00e9 au format JSON avec un code 404.","title":"R\u00e9ponse"},{"location":"smart-routings-v0/#determiner-si-lappelant-est-vip-en-fonction-du-code-saisi","text":"GET /api/{cutomerAccount}/customer/isVipFromCode/{code}","title":"D\u00e9terminer si l'appelant est VIP en fonction du code saisi"},{"location":"smart-routings-v0/#reponse_4","text":"Si le code saisi par l'appelant est reconnu, un message true (s'il est VIP) ou false (s'il ne l'est pas) est renvoy\u00e9 au format JSON avec un code 200. S'il n'est pas reconnu, un message \"not found\" est renvoy\u00e9 au format JSON avec un code 404.","title":"R\u00e9ponse"},{"location":"smart-routings-v0/#determiner-si-lappelant-est-sous-contrat-dastreinte-en-fonction-du-code-saisi","text":"GET /api/{customerAccount}/customer/hasOnCallDutyContractFromCode/{code}","title":"D\u00e9terminer si l'appelant est sous contrat d'astreinte en fonction du code saisi"},{"location":"smart-routings-v0/#reponse_5","text":"Si le code saisi par l'appelant est reconnu, un message true (s'il est sous contrat d'astreinte) ou false (s'il ne l'est pas) est renvoy\u00e9 au format JSON avec un code 200. S'il n'est pas reconnu, un message \"not found\" est renvoy\u00e9 au format JSON avec un code 404.","title":"R\u00e9ponse"},{"location":"smart-routings-v1/","text":"Routages intelligents (V1) Il est possible d'interroger l'Api Clients Encom, soit par rapport au num\u00e9ro de l'appelant, soit par rapport \u00e0 un code que celui-ci est invit\u00e9 \u00e0 saisir. En principe, votre call flow tentera d'abord de reconna\u00eetre l'appelant par son num\u00e9ro, et ne l'invitera \u00e0 saisir son code d'identification que s'il n'est pas d\u00e9j\u00e0 reconnu. Une fois l'appelant identifi\u00e9 par l'une ou l'autre des m\u00e9thodes, l'Api Clients Encom vous indiquera vers quelle file d'appels le diriger, mais aussi s'il est VIP et/ou sous contrat d'astreinte. Note importante : le param\u00e8tre \"customerAccount\", qui correspond au compte client Encom, doit \u00eatre pass\u00e9 dans toutes les requ\u00eates vers l'API Clients Encom. En effet, le jeton d'identification est personnel et son d\u00e9tenteur peut dans certains cas avoir acc\u00e8s \u00e0 plusieurs comptes clients. D\u00e9terminer la (ou les) file(s) d'appels de destinations en fonction du num\u00e9ro de l'appelant *GET /api/v1/smartRoutings Param\u00e8tres customerAccount : mandatory number : mandatory format : json ou raw (json si non pr\u00e9cis\u00e9) Exemples de requ\u00eate Curl #### Exemples de requ\u00eate ##### Curl curl --request GET \\ --url 'https://clients.encom-conseil.fr/api/v1/smartRoutings?customerAccount=CL0000&number=00331XXXXXXXX' \\ --header 'authorization: Bearer {token} ' ##### PHP <?php $curl = curl_init(); curl_setopt_array($curl, [ CURLOPT_URL => \"https://clients.encom-conseil.fr/api/v1/smartRoutings?customerAccount=CL0000&number=00331XXXXXXXX\", CURLOPT_RETURNTRANSFER => true, CURLOPT_ENCODING => \"\", CURLOPT_MAXREDIRS => 10, CURLOPT_TIMEOUT => 30, CURLOPT_HTTP_VERSION => CURL_HTTP_VERSION_1_1, CURLOPT_CUSTOMREQUEST => \"GET\", CURLOPT_POSTFIELDS => \"\", CURLOPT_HTTPHEADER => [ \"Authorization: Bearer {token}\" ], ]); $response = curl_exec($curl); $err = curl_error($curl); curl_close($curl); if ($err) { echo \"cURL Error #:\" . $err; } else { echo $response; } ##### Python import http.client conn = http.client.HTTPSConnection(\"clients.encom-conseil.fr\") payload = \"\" headers = { 'Authorization': \"Bearer {token}\" } conn.request(\"GET\", \"/api/v1/smartRoutings?customerAccount=CL0000&number=0033XXXXXXXXX\", payload, headers) res = conn.getresponse() data = res.read() print(data.decode(\"utf-8\")) #### R\u00e9ponse L'Api retourne une r\u00e9ponse '400 bad request' si la requ\u00eate est mal-formul\u00e9e. L'Api retourne une r\u00e9ponse '403 not authorized' si l'utilisateur n'a pas les droits suffisants sur le compte client. Si une des quatre destinations possibles est explicitement pr\u00e9cis\u00e9e dans la requ\u00eate, seule celle-ci est retourn\u00e9e : { \"destination1\": \"207\" } Si aucune destination n'est pr\u00e9cis\u00e9e, les 4 valeurs sont retourn\u00e9es : { \"destination1\": \"207\", \"destination2\": \"209\", \"destination3\": \"214\", \"destination4\": \"216\" } Il est possible de recevoir les valeurs dans un format brut, s\u00e9par\u00e9es par des virgules, en ajoutant le couple param\u00e8tre/valeur \"format/raw\" dans la requ\u00eate : 207,209,214,216 ```","title":"Routages intelligents V1 : routages"},{"location":"smart-routings-v1/#routages-intelligents-v1","text":"Il est possible d'interroger l'Api Clients Encom, soit par rapport au num\u00e9ro de l'appelant, soit par rapport \u00e0 un code que celui-ci est invit\u00e9 \u00e0 saisir. En principe, votre call flow tentera d'abord de reconna\u00eetre l'appelant par son num\u00e9ro, et ne l'invitera \u00e0 saisir son code d'identification que s'il n'est pas d\u00e9j\u00e0 reconnu. Une fois l'appelant identifi\u00e9 par l'une ou l'autre des m\u00e9thodes, l'Api Clients Encom vous indiquera vers quelle file d'appels le diriger, mais aussi s'il est VIP et/ou sous contrat d'astreinte. Note importante : le param\u00e8tre \"customerAccount\", qui correspond au compte client Encom, doit \u00eatre pass\u00e9 dans toutes les requ\u00eates vers l'API Clients Encom. En effet, le jeton d'identification est personnel et son d\u00e9tenteur peut dans certains cas avoir acc\u00e8s \u00e0 plusieurs comptes clients.","title":"Routages intelligents (V1)"},{"location":"smart-routings-v1/#determiner-la-ou-les-files-dappels-de-destinations-en-fonction-du-numero-de-lappelant","text":"*GET /api/v1/smartRoutings","title":"D\u00e9terminer la (ou les) file(s) d'appels de destinations en fonction du num\u00e9ro de l'appelant"},{"location":"smart-routings-v1/#parametres","text":"customerAccount : mandatory number : mandatory format : json ou raw (json si non pr\u00e9cis\u00e9)","title":"Param\u00e8tres"},{"location":"smart-routings-v1/#exemples-de-requete","text":"","title":"Exemples de requ\u00eate"},{"location":"smart-routings-v1/#curl","text":"#### Exemples de requ\u00eate ##### Curl curl --request GET \\ --url 'https://clients.encom-conseil.fr/api/v1/smartRoutings?customerAccount=CL0000&number=00331XXXXXXXX' \\ --header 'authorization: Bearer {token} ' ##### PHP <?php $curl = curl_init(); curl_setopt_array($curl, [ CURLOPT_URL => \"https://clients.encom-conseil.fr/api/v1/smartRoutings?customerAccount=CL0000&number=00331XXXXXXXX\", CURLOPT_RETURNTRANSFER => true, CURLOPT_ENCODING => \"\", CURLOPT_MAXREDIRS => 10, CURLOPT_TIMEOUT => 30, CURLOPT_HTTP_VERSION => CURL_HTTP_VERSION_1_1, CURLOPT_CUSTOMREQUEST => \"GET\", CURLOPT_POSTFIELDS => \"\", CURLOPT_HTTPHEADER => [ \"Authorization: Bearer {token}\" ], ]); $response = curl_exec($curl); $err = curl_error($curl); curl_close($curl); if ($err) { echo \"cURL Error #:\" . $err; } else { echo $response; } ##### Python import http.client conn = http.client.HTTPSConnection(\"clients.encom-conseil.fr\") payload = \"\" headers = { 'Authorization': \"Bearer {token}\" } conn.request(\"GET\", \"/api/v1/smartRoutings?customerAccount=CL0000&number=0033XXXXXXXXX\", payload, headers) res = conn.getresponse() data = res.read() print(data.decode(\"utf-8\")) #### R\u00e9ponse L'Api retourne une r\u00e9ponse '400 bad request' si la requ\u00eate est mal-formul\u00e9e. L'Api retourne une r\u00e9ponse '403 not authorized' si l'utilisateur n'a pas les droits suffisants sur le compte client. Si une des quatre destinations possibles est explicitement pr\u00e9cis\u00e9e dans la requ\u00eate, seule celle-ci est retourn\u00e9e : { \"destination1\": \"207\" } Si aucune destination n'est pr\u00e9cis\u00e9e, les 4 valeurs sont retourn\u00e9es : { \"destination1\": \"207\", \"destination2\": \"209\", \"destination3\": \"214\", \"destination4\": \"216\" } Il est possible de recevoir les valeurs dans un format brut, s\u00e9par\u00e9es par des virgules, en ajoutant le couple param\u00e8tre/valeur \"format/raw\" dans la requ\u00eate : 207,209,214,216 ```","title":"Curl"},{"location":"sms-destinataires/","text":"Destinataires Obtenir les destinataires d'un liste de diffusion GET /api/v1/sms/recipients Param\u00e8tres : customerAccount * : compte client Encom smsRecipientListId * : id de la liste de diffusion Exemples de requ\u00eate : Curl : curl --request GET \\ --url 'https://telecom0585-clients.bluerocktel.net/api/v1/sms/recipients?customerAccount=CL3578&smsRecipientListId=1' \\ --header 'authorization: Bearer {token} ' PHP : <?php $curl = curl_init(); curl_setopt_array($curl, array( CURLOPT_URL => \"https://telecom0585-clients.bluerocktel.net/api/v1/sms/recipients?customerAccount=CL3578&smsRecipientListId=1\", CURLOPT_RETURNTRANSFER => true, CURLOPT_ENCODING => \"\", CURLOPT_MAXREDIRS => 10, CURLOPT_TIMEOUT => 30, CURLOPT_HTTP_VERSION => CURL_HTTP_VERSION_1_1, CURLOPT_CUSTOMREQUEST => \"GET\", CURLOPT_POSTFIELDS => \"\", CURLOPT_HTTPHEADER => array( \"authorization: Bearer {token} \" ), )); $response = curl_exec($curl); $err = curl_error($curl); curl_close($curl); if ($err) { echo \"cURL Error #:\" . $err; } else { echo $response; } Python : import http.client conn = http.client.HTTPSConnection(\"telecom0585-clients.bluerocktel.net\") payload = \"\" headers = { 'authorization': \"Bearer {token} \" } conn.request(\"GET\", \"/api/v1/sms/recipients?customerAccount=CL3578&smsRecipientListId=1\", payload, headers) res = conn.getresponse() data = res.read() print(data.decode(\"utf-8\")) Exemple de r\u00e9ponse L'API retourne un tableau contenant la liste des num\u00e9ros, avec le nom correspondant s'il est disponible, ou null s'il ne l'est pas : { \"00336********\": null, \"00336********\": \"Jack\" } Ajouter un destinataire \u00e0 une liste de diffusion POST /api/v1/sms/recipients Param\u00e8tres : customerAccount * : compte client Encom smsRecipientListId * : id de la liste de diffusion number * : num\u00e9ro de t\u00e9l\u00e9phone mobile du destinataire name : nom du destinataire (facultatif) Exemples de requ\u00eate Curl : curl --request POST \\ --url 'https://telecom0585-clients.bluerocktel.net/api/v1/sms/recipients?customerAccount=CL3578&smsRecipientListId=1&number=0603790932' \\ --header 'authorization: Bearer {token} ' PHP : <?php $curl = curl_init(); curl_setopt_array($curl, array( CURLOPT_URL => \"https://telecom0585-clients.bluerocktel.net/api/v1/sms/recipients?customerAccount=CL3578&smsRecipientListId=1&number=0603790932\", CURLOPT_RETURNTRANSFER => true, CURLOPT_ENCODING => \"\", CURLOPT_MAXREDIRS => 10, CURLOPT_TIMEOUT => 30, CURLOPT_HTTP_VERSION => CURL_HTTP_VERSION_1_1, CURLOPT_CUSTOMREQUEST => \"POST\", CURLOPT_POSTFIELDS => \"\", CURLOPT_HTTPHEADER => array( \"authorization: Bearer {token} \" ), )); $response = curl_exec($curl); $err = curl_error($curl); curl_close($curl); if ($err) { echo \"cURL Error #:\" . $err; } else { echo $response; } Python : import http.client conn = http.client.HTTPSConnection(\"telecom0585-clients.bluerocktel.net\") payload = \"\" headers = { 'authorization': \"Bearer {token} \" } conn.request(\"POST\", \"/api/v1/sms/recipients?customerAccount=CL3578&smsRecipientListId=1&number=06********\", payload, headers) res = conn.getresponse() data = res.read() print(data.decode(\"utf-8\")) Exemple de r\u00e9ponse Si le destinataire, identifi\u00e9 par son num\u00e9ro de t\u00e9l\u00e9phone mobile, n'existe pas dans votre compte, il est cr\u00e9\u00e9 puis attach\u00e9 \u00e0 la liste pass\u00e9e en param\u00e8tre. Si le destinataire, identifi\u00e9 par son num\u00e9ro de t\u00e9l\u00e9phone mobile, existe d\u00e9j\u00e0 dans votre compte, il n'est pas dupliqu\u00e9 mais attach\u00e9 \u00e0 liste pass\u00e9e en param\u00e8tre. Un m\u00eame destinataire peut ainsi exister dans plusieurs listes de diffusion. Dans les 2 cas, l'API retourne un code \"201 Created'.","title":"Gestion des destinataires"},{"location":"sms-destinataires/#destinataires","text":"","title":"Destinataires"},{"location":"sms-destinataires/#obtenir-les-destinataires-dun-liste-de-diffusion","text":"GET /api/v1/sms/recipients","title":"Obtenir les destinataires d'un liste de diffusion"},{"location":"sms-destinataires/#parametres","text":"customerAccount * : compte client Encom smsRecipientListId * : id de la liste de diffusion","title":"Param\u00e8tres :"},{"location":"sms-destinataires/#exemples-de-requete","text":"","title":"Exemples de requ\u00eate :"},{"location":"sms-destinataires/#curl","text":"curl --request GET \\ --url 'https://telecom0585-clients.bluerocktel.net/api/v1/sms/recipients?customerAccount=CL3578&smsRecipientListId=1' \\ --header 'authorization: Bearer {token} '","title":"Curl :"},{"location":"sms-destinataires/#php","text":"<?php $curl = curl_init(); curl_setopt_array($curl, array( CURLOPT_URL => \"https://telecom0585-clients.bluerocktel.net/api/v1/sms/recipients?customerAccount=CL3578&smsRecipientListId=1\", CURLOPT_RETURNTRANSFER => true, CURLOPT_ENCODING => \"\", CURLOPT_MAXREDIRS => 10, CURLOPT_TIMEOUT => 30, CURLOPT_HTTP_VERSION => CURL_HTTP_VERSION_1_1, CURLOPT_CUSTOMREQUEST => \"GET\", CURLOPT_POSTFIELDS => \"\", CURLOPT_HTTPHEADER => array( \"authorization: Bearer {token} \" ), )); $response = curl_exec($curl); $err = curl_error($curl); curl_close($curl); if ($err) { echo \"cURL Error #:\" . $err; } else { echo $response; }","title":"PHP :"},{"location":"sms-destinataires/#python","text":"import http.client conn = http.client.HTTPSConnection(\"telecom0585-clients.bluerocktel.net\") payload = \"\" headers = { 'authorization': \"Bearer {token} \" } conn.request(\"GET\", \"/api/v1/sms/recipients?customerAccount=CL3578&smsRecipientListId=1\", payload, headers) res = conn.getresponse() data = res.read() print(data.decode(\"utf-8\"))","title":"Python :"},{"location":"sms-destinataires/#exemple-de-reponse","text":"L'API retourne un tableau contenant la liste des num\u00e9ros, avec le nom correspondant s'il est disponible, ou null s'il ne l'est pas : { \"00336********\": null, \"00336********\": \"Jack\" }","title":"Exemple de r\u00e9ponse"},{"location":"sms-destinataires/#ajouter-un-destinataire-a-une-liste-de-diffusion","text":"POST /api/v1/sms/recipients","title":"Ajouter un destinataire \u00e0 une liste de diffusion"},{"location":"sms-destinataires/#parametres_1","text":"customerAccount * : compte client Encom smsRecipientListId * : id de la liste de diffusion number * : num\u00e9ro de t\u00e9l\u00e9phone mobile du destinataire name : nom du destinataire (facultatif)","title":"Param\u00e8tres :"},{"location":"sms-destinataires/#exemples-de-requete_1","text":"","title":"Exemples de requ\u00eate"},{"location":"sms-destinataires/#curl_1","text":"curl --request POST \\ --url 'https://telecom0585-clients.bluerocktel.net/api/v1/sms/recipients?customerAccount=CL3578&smsRecipientListId=1&number=0603790932' \\ --header 'authorization: Bearer {token} '","title":"Curl :"},{"location":"sms-destinataires/#php_1","text":"<?php $curl = curl_init(); curl_setopt_array($curl, array( CURLOPT_URL => \"https://telecom0585-clients.bluerocktel.net/api/v1/sms/recipients?customerAccount=CL3578&smsRecipientListId=1&number=0603790932\", CURLOPT_RETURNTRANSFER => true, CURLOPT_ENCODING => \"\", CURLOPT_MAXREDIRS => 10, CURLOPT_TIMEOUT => 30, CURLOPT_HTTP_VERSION => CURL_HTTP_VERSION_1_1, CURLOPT_CUSTOMREQUEST => \"POST\", CURLOPT_POSTFIELDS => \"\", CURLOPT_HTTPHEADER => array( \"authorization: Bearer {token} \" ), )); $response = curl_exec($curl); $err = curl_error($curl); curl_close($curl); if ($err) { echo \"cURL Error #:\" . $err; } else { echo $response; }","title":"PHP :"},{"location":"sms-destinataires/#python_1","text":"import http.client conn = http.client.HTTPSConnection(\"telecom0585-clients.bluerocktel.net\") payload = \"\" headers = { 'authorization': \"Bearer {token} \" } conn.request(\"POST\", \"/api/v1/sms/recipients?customerAccount=CL3578&smsRecipientListId=1&number=06********\", payload, headers) res = conn.getresponse() data = res.read() print(data.decode(\"utf-8\"))","title":"Python :"},{"location":"sms-destinataires/#exemple-de-reponse_1","text":"Si le destinataire, identifi\u00e9 par son num\u00e9ro de t\u00e9l\u00e9phone mobile, n'existe pas dans votre compte, il est cr\u00e9\u00e9 puis attach\u00e9 \u00e0 la liste pass\u00e9e en param\u00e8tre. Si le destinataire, identifi\u00e9 par son num\u00e9ro de t\u00e9l\u00e9phone mobile, existe d\u00e9j\u00e0 dans votre compte, il n'est pas dupliqu\u00e9 mais attach\u00e9 \u00e0 liste pass\u00e9e en param\u00e8tre. Un m\u00eame destinataire peut ainsi exister dans plusieurs listes de diffusion. Dans les 2 cas, l'API retourne un code \"201 Created'.","title":"Exemple de r\u00e9ponse"},{"location":"sms-listener/","text":"Configuration d'un listener Les statistiques d'envoi de vos messages sont mises \u00e0 jour directement dans votre Espace Client Encom, et vous pouvez, au travers de l'API, r\u00e9cup\u00e9rer le statut des messages. Si vous le souhaitez, vous pouvez \u00e9galement \u00eatre notifi\u00e9 en temps r\u00e9el du statut de vos messages, en ouvrant une route sp\u00e9cifique dans votre syst\u00e8me d'information. Une fois votre url fonctionnelle, vous pouvez l'utiliser dans vos envois de messages unitaires ou group\u00e9s. Param\u00e8tres post\u00e9s vers votre url id : id du message status (string) : status details (string) code (string)","title":"Configuration de listener"},{"location":"sms-listener/#configuration-dun-listener","text":"Les statistiques d'envoi de vos messages sont mises \u00e0 jour directement dans votre Espace Client Encom, et vous pouvez, au travers de l'API, r\u00e9cup\u00e9rer le statut des messages. Si vous le souhaitez, vous pouvez \u00e9galement \u00eatre notifi\u00e9 en temps r\u00e9el du statut de vos messages, en ouvrant une route sp\u00e9cifique dans votre syst\u00e8me d'information. Une fois votre url fonctionnelle, vous pouvez l'utiliser dans vos envois de messages unitaires ou group\u00e9s.","title":"Configuration d'un listener"},{"location":"sms-listener/#parametres-postes-vers-votre-url","text":"id : id du message status (string) : status details (string) code (string)","title":"Param\u00e8tres post\u00e9s vers votre url"},{"location":"sms-listes-de-diffusion/","text":"Gestion des listes de diffusion Obtenir les listes de diffusion disponibles GET /api/v1/sms/recipientLists Param\u00e8tres : customerAccount * : compte client Encom. Exemples de requ\u00eate Curl : curl --request GET \\ --url 'https://telecom0585-clients.bluerocktel.net/api/v1/sms/recipientLists?customerAccount=CL3578' \\ --header 'authorization: Bearer {token} ' PHP : <?php $curl = curl_init(); curl_setopt_array($curl, array( CURLOPT_URL => \"https://telecom0585-clients.bluerocktel.net/api/v1/sms/recipientLists?customerAccount=CL3578\", CURLOPT_RETURNTRANSFER => true, CURLOPT_ENCODING => \"\", CURLOPT_MAXREDIRS => 10, CURLOPT_TIMEOUT => 30, CURLOPT_HTTP_VERSION => CURL_HTTP_VERSION_1_1, CURLOPT_CUSTOMREQUEST => \"GET\", CURLOPT_POSTFIELDS => \"\", CURLOPT_HTTPHEADER => array( \"authorization: Bearer {token} \" ), )); $response = curl_exec($curl); $err = curl_error($curl); curl_close($curl); if ($err) { echo \"cURL Error #:\" . $err; } else { echo $response; } Python : import http.client conn = http.client.HTTPSConnection(\"telecom0585-clients.bluerocktel.net\") payload = \"\" headers = { 'authorization': \"Bearer {token} \" } conn.request(\"GET\", \"/api/v1/sms/recipientLists?customerAccount=CL3578\", payload, headers) res = conn.getresponse() data = res.read() print(data.decode(\"utf-8\")) Exemple de r\u00e9ponse : [ { \"id\": 1, \"customerAccount\": \"CL3578\", \"name\": \"Clients Liste 1\", \"created_at\": \"2020-06-12 17:27:00\", \"updated_at\": \"2020-07-08 06:48:38\" }, { \"id\": 2, \"customerAccount\": \"CL3578\", \"name\": \"Clients Liste 2\", \"created_at\": \"2020-07-08 06:49:05\", \"updated_at\": \"2020-07-08 06:49:05\" }, { \"id\": 3, \"customerAccount\": \"CL3578\", \"name\": \"Prospects Liste 1\", \"created_at\": \"2020-07-08 06:49:26\", \"updated_at\": \"2020-07-08 06:49:40\" } ] Cr\u00e9er une nouvelle liste de diffusion POST /api/v1/sms/recipientLists Param\u00e8tres : customerAccount * : compte client Encom name * : nom de la liste de diffusion Exemples de requ\u00eate Curl : curl --request POST \\ --url 'https://telecom0585-clients.bluerocktel.net/api/v1/sms/recipientLists?customerAccount=CL3578&name=Test%20%2B%2B%2B&id=7' \\ --header 'authorization: Bearer {token} ' PHP : <?php $curl = curl_init(); curl_setopt_array($curl, array( CURLOPT_URL => \"https://telecom0585-clients.bluerocktel.net/api/v1/sms/recipientLists?customerAccount=CL3578&name=Test%20%2B%2B%2B&id=7\", CURLOPT_RETURNTRANSFER => true, CURLOPT_ENCODING => \"\", CURLOPT_MAXREDIRS => 10, CURLOPT_TIMEOUT => 30, CURLOPT_HTTP_VERSION => CURL_HTTP_VERSION_1_1, CURLOPT_CUSTOMREQUEST => \"POST\", CURLOPT_POSTFIELDS => \"\", CURLOPT_HTTPHEADER => array( \"authorization: Bearer {token} \" ), )); $response = curl_exec($curl); $err = curl_error($curl); curl_close($curl); if ($err) { echo \"cURL Error #:\" . $err; } else { echo $response; } Python : import http.client conn = http.client.HTTPSConnection(\"telecom0585-clients.bluerocktel.net\") payload = \"\" headers = { 'authorization': \"Bearer {token} \" } conn.request(\"POST\", \"/api/v1/sms/recipientLists?customerAccount=CL3578&name=Test%20%2B%2B%2B&id=7\", payload, headers) res = conn.getresponse() data = res.read() print(data.decode(\"utf-8\")) Exemple de r\u00e9ponse Lorsque la liste est cr\u00e9\u00e9e avec succ\u00e8s, l'API retourne un code \"201 Created\" ainsi qu'un tableau contenant l'id et le nom de la nouvelle liste : { \"id\": 9, \"name\": \"Test Cyrille\" } Renommer une liste de diffusion PUT /api/v1/sms/recipientLists Param\u00e8tres : customerAccount * : compte client Encom id * : id de la liste de diffusion name * : nouveau nom de la liste de diffusion Exemples de requ\u00eate Curl : curl --request PUT \\ --url 'https://telecom0585-clients.bluerocktel.net/api/v1/sms/recipientLists?customerAccount=CL3578&name=Test%20%2B%2B%2B&id=7' \\ --header 'authorization: Bearer {token} ' PHP : <?php $curl = curl_init(); curl_setopt_array($curl, array( CURLOPT_URL => \"https://telecom0585-clients.bluerocktel.net/api/v1/sms/recipientLists?customerAccount=CL3578&name=Test%20%2B%2B%2B&id=7\", CURLOPT_RETURNTRANSFER => true, CURLOPT_ENCODING => \"\", CURLOPT_MAXREDIRS => 10, CURLOPT_TIMEOUT => 30, CURLOPT_HTTP_VERSION => CURL_HTTP_VERSION_1_1, CURLOPT_CUSTOMREQUEST => \"PUT\", CURLOPT_POSTFIELDS => \"\", CURLOPT_HTTPHEADER => array( \"authorization: Bearer {token} \" ), )); $response = curl_exec($curl); $err = curl_error($curl); curl_close($curl); if ($err) { echo \"cURL Error #:\" . $err; } else { echo $response; } Python : import http.client conn = http.client.HTTPSConnection(\"telecom0585-clients.bluerocktel.net\") payload = \"\" headers = { 'authorization': \"Bearer {token} \" } conn.request(\"PUT\", \"/api/v1/sms/recipientLists?customerAccount=CL3578&name=Test%20%2B%2B%2B&id=7\", payload, headers) res = conn.getresponse() data = res.read() print(data.decode(\"utf-8\")) Exemple de r\u00e9ponse Lorsque la liste est cr\u00e9\u00e9e avec succ\u00e8s, l'API retourne un code \"200 ok\" ainsi qu'un tableau contenant l'id et le nouveau nom de la liste : { \"id\": 9, \"name\": \"Nouveau nom de la liste\" } Supprimer une liste de diffusion DELETE /api/v1/sms/recipientLists Param\u00e8tres : customerAccount * : compte client Encom id * : id de la liste de diffusion Exemples de requ\u00eate Curl : curl --request DELETE \\ --url 'https://telecom0585-clients.bluerocktel.net/api/v1/sms/recipientLists?customerAccount=CL3578&id=7' \\ --header 'authorization: Bearer {token} ' PHP : <?php $curl = curl_init(); curl_setopt_array($curl, array( CURLOPT_URL => \"https://telecom0585-clients.bluerocktel.net/api/v1/sms/recipientLists?customerAccount=CL3578&id=7\", CURLOPT_RETURNTRANSFER => true, CURLOPT_ENCODING => \"\", CURLOPT_MAXREDIRS => 10, CURLOPT_TIMEOUT => 30, CURLOPT_HTTP_VERSION => CURL_HTTP_VERSION_1_1, CURLOPT_CUSTOMREQUEST => \"DELETE\", CURLOPT_POSTFIELDS => \"\", CURLOPT_HTTPHEADER => array( \"authorization: Bearer {token} \" ), )); $response = curl_exec($curl); $err = curl_error($curl); curl_close($curl); if ($err) { echo \"cURL Error #:\" . $err; } else { echo $response; } Python : import http.client conn = http.client.HTTPSConnection(\"telecom0585-clients.bluerocktel.net\") payload = \"\" headers = { 'authorization': \"Bearer {token} \" } conn.request(\"DELETE\", \"/api/v1/sms/recipientLists?customerAccount=CL3578&id=7\", payload, headers) res = conn.getresponse() data = res.read() print(data.decode(\"utf-8\")) Exemple de r\u00e9ponse Lorsque la liste est supprim\u00e9e, l'API retourne un code \"200 OK\" ainsi que le message \"deleted\" : { \"response\": \"deleted\" } Lorsque la liste n'existe pas, l'API retourne un code \"404 Not found\" ainsi que le message \"not found\" : { \"response\": \"not found\" }","title":"Gestion des listes de diffusion"},{"location":"sms-listes-de-diffusion/#gestion-des-listes-de-diffusion","text":"","title":"Gestion des listes de diffusion"},{"location":"sms-listes-de-diffusion/#obtenir-les-listes-de-diffusion-disponibles","text":"GET /api/v1/sms/recipientLists","title":"Obtenir les listes de diffusion disponibles"},{"location":"sms-listes-de-diffusion/#parametres","text":"customerAccount * : compte client Encom.","title":"Param\u00e8tres :"},{"location":"sms-listes-de-diffusion/#exemples-de-requete","text":"","title":"Exemples de requ\u00eate"},{"location":"sms-listes-de-diffusion/#curl","text":"curl --request GET \\ --url 'https://telecom0585-clients.bluerocktel.net/api/v1/sms/recipientLists?customerAccount=CL3578' \\ --header 'authorization: Bearer {token} '","title":"Curl :"},{"location":"sms-listes-de-diffusion/#php","text":"<?php $curl = curl_init(); curl_setopt_array($curl, array( CURLOPT_URL => \"https://telecom0585-clients.bluerocktel.net/api/v1/sms/recipientLists?customerAccount=CL3578\", CURLOPT_RETURNTRANSFER => true, CURLOPT_ENCODING => \"\", CURLOPT_MAXREDIRS => 10, CURLOPT_TIMEOUT => 30, CURLOPT_HTTP_VERSION => CURL_HTTP_VERSION_1_1, CURLOPT_CUSTOMREQUEST => \"GET\", CURLOPT_POSTFIELDS => \"\", CURLOPT_HTTPHEADER => array( \"authorization: Bearer {token} \" ), )); $response = curl_exec($curl); $err = curl_error($curl); curl_close($curl); if ($err) { echo \"cURL Error #:\" . $err; } else { echo $response; }","title":"PHP :"},{"location":"sms-listes-de-diffusion/#python","text":"import http.client conn = http.client.HTTPSConnection(\"telecom0585-clients.bluerocktel.net\") payload = \"\" headers = { 'authorization': \"Bearer {token} \" } conn.request(\"GET\", \"/api/v1/sms/recipientLists?customerAccount=CL3578\", payload, headers) res = conn.getresponse() data = res.read() print(data.decode(\"utf-8\"))","title":"Python :"},{"location":"sms-listes-de-diffusion/#exemple-de-reponse","text":"[ { \"id\": 1, \"customerAccount\": \"CL3578\", \"name\": \"Clients Liste 1\", \"created_at\": \"2020-06-12 17:27:00\", \"updated_at\": \"2020-07-08 06:48:38\" }, { \"id\": 2, \"customerAccount\": \"CL3578\", \"name\": \"Clients Liste 2\", \"created_at\": \"2020-07-08 06:49:05\", \"updated_at\": \"2020-07-08 06:49:05\" }, { \"id\": 3, \"customerAccount\": \"CL3578\", \"name\": \"Prospects Liste 1\", \"created_at\": \"2020-07-08 06:49:26\", \"updated_at\": \"2020-07-08 06:49:40\" } ]","title":"Exemple de r\u00e9ponse :"},{"location":"sms-listes-de-diffusion/#creer-une-nouvelle-liste-de-diffusion","text":"POST /api/v1/sms/recipientLists","title":"Cr\u00e9er une nouvelle liste de diffusion"},{"location":"sms-listes-de-diffusion/#parametres_1","text":"customerAccount * : compte client Encom name * : nom de la liste de diffusion","title":"Param\u00e8tres :"},{"location":"sms-listes-de-diffusion/#exemples-de-requete_1","text":"","title":"Exemples de requ\u00eate"},{"location":"sms-listes-de-diffusion/#curl_1","text":"curl --request POST \\ --url 'https://telecom0585-clients.bluerocktel.net/api/v1/sms/recipientLists?customerAccount=CL3578&name=Test%20%2B%2B%2B&id=7' \\ --header 'authorization: Bearer {token} '","title":"Curl :"},{"location":"sms-listes-de-diffusion/#php_1","text":"<?php $curl = curl_init(); curl_setopt_array($curl, array( CURLOPT_URL => \"https://telecom0585-clients.bluerocktel.net/api/v1/sms/recipientLists?customerAccount=CL3578&name=Test%20%2B%2B%2B&id=7\", CURLOPT_RETURNTRANSFER => true, CURLOPT_ENCODING => \"\", CURLOPT_MAXREDIRS => 10, CURLOPT_TIMEOUT => 30, CURLOPT_HTTP_VERSION => CURL_HTTP_VERSION_1_1, CURLOPT_CUSTOMREQUEST => \"POST\", CURLOPT_POSTFIELDS => \"\", CURLOPT_HTTPHEADER => array( \"authorization: Bearer {token} \" ), )); $response = curl_exec($curl); $err = curl_error($curl); curl_close($curl); if ($err) { echo \"cURL Error #:\" . $err; } else { echo $response; }","title":"PHP :"},{"location":"sms-listes-de-diffusion/#python_1","text":"import http.client conn = http.client.HTTPSConnection(\"telecom0585-clients.bluerocktel.net\") payload = \"\" headers = { 'authorization': \"Bearer {token} \" } conn.request(\"POST\", \"/api/v1/sms/recipientLists?customerAccount=CL3578&name=Test%20%2B%2B%2B&id=7\", payload, headers) res = conn.getresponse() data = res.read() print(data.decode(\"utf-8\"))","title":"Python :"},{"location":"sms-listes-de-diffusion/#exemple-de-reponse_1","text":"Lorsque la liste est cr\u00e9\u00e9e avec succ\u00e8s, l'API retourne un code \"201 Created\" ainsi qu'un tableau contenant l'id et le nom de la nouvelle liste : { \"id\": 9, \"name\": \"Test Cyrille\" }","title":"Exemple de r\u00e9ponse"},{"location":"sms-listes-de-diffusion/#renommer-une-liste-de-diffusion","text":"PUT /api/v1/sms/recipientLists","title":"Renommer une liste de diffusion"},{"location":"sms-listes-de-diffusion/#parametres_2","text":"customerAccount * : compte client Encom id * : id de la liste de diffusion name * : nouveau nom de la liste de diffusion","title":"Param\u00e8tres :"},{"location":"sms-listes-de-diffusion/#exemples-de-requete_2","text":"","title":"Exemples de requ\u00eate"},{"location":"sms-listes-de-diffusion/#curl_2","text":"curl --request PUT \\ --url 'https://telecom0585-clients.bluerocktel.net/api/v1/sms/recipientLists?customerAccount=CL3578&name=Test%20%2B%2B%2B&id=7' \\ --header 'authorization: Bearer {token} '","title":"Curl :"},{"location":"sms-listes-de-diffusion/#php_2","text":"<?php $curl = curl_init(); curl_setopt_array($curl, array( CURLOPT_URL => \"https://telecom0585-clients.bluerocktel.net/api/v1/sms/recipientLists?customerAccount=CL3578&name=Test%20%2B%2B%2B&id=7\", CURLOPT_RETURNTRANSFER => true, CURLOPT_ENCODING => \"\", CURLOPT_MAXREDIRS => 10, CURLOPT_TIMEOUT => 30, CURLOPT_HTTP_VERSION => CURL_HTTP_VERSION_1_1, CURLOPT_CUSTOMREQUEST => \"PUT\", CURLOPT_POSTFIELDS => \"\", CURLOPT_HTTPHEADER => array( \"authorization: Bearer {token} \" ), )); $response = curl_exec($curl); $err = curl_error($curl); curl_close($curl); if ($err) { echo \"cURL Error #:\" . $err; } else { echo $response; }","title":"PHP :"},{"location":"sms-listes-de-diffusion/#python_2","text":"import http.client conn = http.client.HTTPSConnection(\"telecom0585-clients.bluerocktel.net\") payload = \"\" headers = { 'authorization': \"Bearer {token} \" } conn.request(\"PUT\", \"/api/v1/sms/recipientLists?customerAccount=CL3578&name=Test%20%2B%2B%2B&id=7\", payload, headers) res = conn.getresponse() data = res.read() print(data.decode(\"utf-8\"))","title":"Python :"},{"location":"sms-listes-de-diffusion/#exemple-de-reponse_2","text":"Lorsque la liste est cr\u00e9\u00e9e avec succ\u00e8s, l'API retourne un code \"200 ok\" ainsi qu'un tableau contenant l'id et le nouveau nom de la liste : { \"id\": 9, \"name\": \"Nouveau nom de la liste\" }","title":"Exemple de r\u00e9ponse"},{"location":"sms-listes-de-diffusion/#supprimer-une-liste-de-diffusion","text":"DELETE /api/v1/sms/recipientLists","title":"Supprimer une liste de diffusion"},{"location":"sms-listes-de-diffusion/#parametres_3","text":"customerAccount * : compte client Encom id * : id de la liste de diffusion","title":"Param\u00e8tres :"},{"location":"sms-listes-de-diffusion/#exemples-de-requete_3","text":"","title":"Exemples de requ\u00eate"},{"location":"sms-listes-de-diffusion/#curl_3","text":"curl --request DELETE \\ --url 'https://telecom0585-clients.bluerocktel.net/api/v1/sms/recipientLists?customerAccount=CL3578&id=7' \\ --header 'authorization: Bearer {token} '","title":"Curl :"},{"location":"sms-listes-de-diffusion/#php_3","text":"<?php $curl = curl_init(); curl_setopt_array($curl, array( CURLOPT_URL => \"https://telecom0585-clients.bluerocktel.net/api/v1/sms/recipientLists?customerAccount=CL3578&id=7\", CURLOPT_RETURNTRANSFER => true, CURLOPT_ENCODING => \"\", CURLOPT_MAXREDIRS => 10, CURLOPT_TIMEOUT => 30, CURLOPT_HTTP_VERSION => CURL_HTTP_VERSION_1_1, CURLOPT_CUSTOMREQUEST => \"DELETE\", CURLOPT_POSTFIELDS => \"\", CURLOPT_HTTPHEADER => array( \"authorization: Bearer {token} \" ), )); $response = curl_exec($curl); $err = curl_error($curl); curl_close($curl); if ($err) { echo \"cURL Error #:\" . $err; } else { echo $response; }","title":"PHP :"},{"location":"sms-listes-de-diffusion/#python_3","text":"import http.client conn = http.client.HTTPSConnection(\"telecom0585-clients.bluerocktel.net\") payload = \"\" headers = { 'authorization': \"Bearer {token} \" } conn.request(\"DELETE\", \"/api/v1/sms/recipientLists?customerAccount=CL3578&id=7\", payload, headers) res = conn.getresponse() data = res.read() print(data.decode(\"utf-8\"))","title":"Python :"},{"location":"sms-listes-de-diffusion/#exemple-de-reponse_3","text":"Lorsque la liste est supprim\u00e9e, l'API retourne un code \"200 OK\" ainsi que le message \"deleted\" : { \"response\": \"deleted\" } Lorsque la liste n'existe pas, l'API retourne un code \"404 Not found\" ainsi que le message \"not found\" : { \"response\": \"not found\" }","title":"Exemple de r\u00e9ponse"},{"location":"sms-messages-listes/","text":"Messages vers une liste de diffusion Envoyer un message vers une liste de diffusion POST /api/v1/sms/groupedMessage Param\u00e8tres customerAccount * : compte client Encom smsRecipientListId * : identifiant de la liste de diffusion message * : texte du message type * : type du message, 't' pour 'transactionnel' ou 'm' pour marketing idSend: campagne d'envoi (facultatif) listener: url recevant la notification de r\u00e9sultat du message (facultatif) Note : le param\u00e8tre 'customerAccount', qui correspond au compte client Encom, doit \u00eatre pass\u00e9 dans toutes les requ\u00eates vers l'API Clients Encom. En effet, le jeton d'identification est personnel et son d\u00e9tenteur peut dans certains cas avoir acc\u00e8s \u00e0 plusieurs comptes clients. Mention obligatoire \"STOP AU 36111\" Attention : pour tout envoi de message \u00e0 caract\u00e8re marketing (type 'm'), la mention \"STOP AU 36111\" est obligatoire afin de fournir \u00e0 vos destinataires un moyen de d\u00e9sinscription et de respecter les obligations de la CNIL. Lorsque vous postez un message de type marketing sur l'API en omettant cette mention, elle est automatiquement ajout\u00e9e \u00e0 la fin de votre message. Personnalisation des messages Lorsque la liste de diffusion contient le noms des destinataires, il est possible de personnaliser les messages en indiquant \"%%name%%\" dans le message. Exemples de requ\u00eate Curl curl --request POST \\ --url 'https://telecom0585-clients.bluerocktel.net/api/v1/sms/groupedMessage?customerAccount=CL3578&message=Hello%20World!&type=t&smsRecipientListId=1' \\ --header 'authorization: Bearer {token} ' PHP <?php $curl = curl_init(); curl_setopt_array($curl, array( CURLOPT_URL => \"https://telecom0585-clients.bluerocktel.net/api/v1/sms/groupedMessage?customerAccount=CL3578&message=Hello%20World!&type=t&smsRecipientListId=1\", CURLOPT_RETURNTRANSFER => true, CURLOPT_ENCODING => \"\", CURLOPT_MAXREDIRS => 10, CURLOPT_TIMEOUT => 30, CURLOPT_HTTP_VERSION => CURL_HTTP_VERSION_1_1, CURLOPT_CUSTOMREQUEST => \"POST\", CURLOPT_POSTFIELDS => \"\", CURLOPT_HTTPHEADER => array( \"authorization: Bearer {token} \" ), )); $response = curl_exec($curl); $err = curl_error($curl); curl_close($curl); if ($err) { echo \"cURL Error #:\" . $err; } else { echo $response; } Python import http.client conn = http.client.HTTPSConnection(\"telecom0585-clients.bluerocktel.net\") payload = \"\" headers = { 'authorization': \"Bearer {token} \" } conn.request(\"POST\", \"/api/v1/sms/groupedMessage?customerAccount=CL3578&message=Hello%20World!&type=t&smsRecipientListId=1\", payload, headers) res = conn.getresponse() data = res.read() print(data.decode(\"utf-8\")) Exemple de r\u00e9ponse Lorsque les messages sont planifi\u00e9s avec succ\u00e8s, l'API retourne un code \"201 Created\" ainsi que les ids des messages : { \"store\": \"22,23\" } Vous pouvez ensuite obtenir le statut de chaque message envoy\u00e9 en utilisant le endpoint GET /api/v1/sms/singleMessage","title":"Messages vers une liste de diffusion"},{"location":"sms-messages-listes/#messages-vers-une-liste-de-diffusion","text":"","title":"Messages vers une liste de diffusion"},{"location":"sms-messages-listes/#envoyer-un-message-vers-une-liste-de-diffusion","text":"POST /api/v1/sms/groupedMessage","title":"Envoyer un message vers une liste de diffusion"},{"location":"sms-messages-listes/#parametres","text":"customerAccount * : compte client Encom smsRecipientListId * : identifiant de la liste de diffusion message * : texte du message type * : type du message, 't' pour 'transactionnel' ou 'm' pour marketing idSend: campagne d'envoi (facultatif) listener: url recevant la notification de r\u00e9sultat du message (facultatif) Note : le param\u00e8tre 'customerAccount', qui correspond au compte client Encom, doit \u00eatre pass\u00e9 dans toutes les requ\u00eates vers l'API Clients Encom. En effet, le jeton d'identification est personnel et son d\u00e9tenteur peut dans certains cas avoir acc\u00e8s \u00e0 plusieurs comptes clients.","title":"Param\u00e8tres"},{"location":"sms-messages-listes/#mention-obligatoire-stop-au-36111","text":"Attention : pour tout envoi de message \u00e0 caract\u00e8re marketing (type 'm'), la mention \"STOP AU 36111\" est obligatoire afin de fournir \u00e0 vos destinataires un moyen de d\u00e9sinscription et de respecter les obligations de la CNIL. Lorsque vous postez un message de type marketing sur l'API en omettant cette mention, elle est automatiquement ajout\u00e9e \u00e0 la fin de votre message.","title":"Mention obligatoire \"STOP AU 36111\""},{"location":"sms-messages-listes/#personnalisation-des-messages","text":"Lorsque la liste de diffusion contient le noms des destinataires, il est possible de personnaliser les messages en indiquant \"%%name%%\" dans le message.","title":"Personnalisation des messages"},{"location":"sms-messages-listes/#exemples-de-requete","text":"","title":"Exemples de requ\u00eate"},{"location":"sms-messages-listes/#curl","text":"curl --request POST \\ --url 'https://telecom0585-clients.bluerocktel.net/api/v1/sms/groupedMessage?customerAccount=CL3578&message=Hello%20World!&type=t&smsRecipientListId=1' \\ --header 'authorization: Bearer {token} '","title":"Curl"},{"location":"sms-messages-listes/#php","text":"<?php $curl = curl_init(); curl_setopt_array($curl, array( CURLOPT_URL => \"https://telecom0585-clients.bluerocktel.net/api/v1/sms/groupedMessage?customerAccount=CL3578&message=Hello%20World!&type=t&smsRecipientListId=1\", CURLOPT_RETURNTRANSFER => true, CURLOPT_ENCODING => \"\", CURLOPT_MAXREDIRS => 10, CURLOPT_TIMEOUT => 30, CURLOPT_HTTP_VERSION => CURL_HTTP_VERSION_1_1, CURLOPT_CUSTOMREQUEST => \"POST\", CURLOPT_POSTFIELDS => \"\", CURLOPT_HTTPHEADER => array( \"authorization: Bearer {token} \" ), )); $response = curl_exec($curl); $err = curl_error($curl); curl_close($curl); if ($err) { echo \"cURL Error #:\" . $err; } else { echo $response; }","title":"PHP"},{"location":"sms-messages-listes/#python","text":"import http.client conn = http.client.HTTPSConnection(\"telecom0585-clients.bluerocktel.net\") payload = \"\" headers = { 'authorization': \"Bearer {token} \" } conn.request(\"POST\", \"/api/v1/sms/groupedMessage?customerAccount=CL3578&message=Hello%20World!&type=t&smsRecipientListId=1\", payload, headers) res = conn.getresponse() data = res.read() print(data.decode(\"utf-8\"))","title":"Python"},{"location":"sms-messages-listes/#exemple-de-reponse","text":"Lorsque les messages sont planifi\u00e9s avec succ\u00e8s, l'API retourne un code \"201 Created\" ainsi que les ids des messages : { \"store\": \"22,23\" } Vous pouvez ensuite obtenir le statut de chaque message envoy\u00e9 en utilisant le endpoint GET /api/v1/sms/singleMessage","title":"Exemple de r\u00e9ponse"},{"location":"sms-messages-unitaires/","text":"Messages unitaires Envoyer un message unitaire POST /api/v1/sms/singleMessage Param\u00e8tres customerAccount * : compte client Encom recipient * : num\u00e9ro de t\u00e9l\u00e9phone du destinataire message * : texte du message type * : type du message, 't' pour 'transactionnel' ou 'm' pour marketing idSend: campagne d'envoi (facultatif) listener: url recevant la notification de r\u00e9sultat du message (facultatif) Note : le param\u00e8tre \"customerAccount\", qui correspond au compte client Encom, doit \u00eatre pass\u00e9 dans toutes les requ\u00eates vers l'API Clients Encom. En effet, le jeton d'identification est personnel et son d\u00e9tenteur peut dans certains cas avoir acc\u00e8s \u00e0 plusieurs comptes clients. Mention obligatoire \"STOP AU 36111\" Attention : pour tout envoi de message \u00e0 caract\u00e8re marketing (type 'm'), la mention \"STOP AU 36111\" est obligatoire afin de fournir \u00e0 vos destinataires un moyen de d\u00e9sinscription et de respecter les obligations de la CNIL. Lorsque vous postez un message de type marketing sur l'API en omettant cette mention, elle est automatiquement ajout\u00e9e \u00e0 la fin de votre message. Exemples de requ\u00eate Curl curl --request POST \\ --url 'https://telecom0585-clients.bluerocktel.net/api/v1/sms/singleMessage?customerAccount=CL3578&recipient=06********&message=Hello%20World!&type=t&=' \\ --header 'authorization: Bearer {token} ' PHP <?php $curl = curl_init(); curl_setopt_array($curl, array( CURLOPT_URL => \"https://telecom0585-clients.bluerocktel.net/api/v1/sms/singleMessage?customerAccount=CL3578&recipient=06********&message=Hello%20World!&type=t&=\", CURLOPT_RETURNTRANSFER => true, CURLOPT_ENCODING => \"\", CURLOPT_MAXREDIRS => 10, CURLOPT_TIMEOUT => 30, CURLOPT_HTTP_VERSION => CURL_HTTP_VERSION_1_1, CURLOPT_CUSTOMREQUEST => \"POST\", CURLOPT_POSTFIELDS => \"\", CURLOPT_HTTPHEADER => array( \"authorization: Bearer {token} \" ), )); $response = curl_exec($curl); $err = curl_error($curl); curl_close($curl); if ($err) { echo \"cURL Error #:\" . $err; } else { echo $response; } Python import http.client conn = http.client.HTTPSConnection(\"telecom0585-clients.bluerocktel.net\") payload = \"\" headers = { 'authorization': \"Bearer {token} \" } conn.request(\"POST\", \"/api/v1/sms/singleMessage?customerAccount=CL3578&recipient=06********&message=Hello%20World!&type=t&=\", payload, headers) res = conn.getresponse() data = res.read() print(data.decode(\"utf-8\")) Exemple de r\u00e9ponse Lorsque le message est planifi\u00e9 avec succ\u00e8s, l'API retourne un code \"201 Created\" ainsi que l'id du message : { \"store\": 20 } Obtenir les informations relatives un message envoy\u00e9 GET /api/v1/sms/singleMessage Param\u00e8tres : customerAccount * : compte client Encom singleSmsMessageId Exemples de requ\u00eate Curl : curl --request GET \\ --url 'https://telecom0585-clients.bluerocktel.net/api/v1/sms/singleMessage?customerAccount=CL3578&singleSmsMessageId=1' \\ --header 'authorization: Bearer {token} ' PHP : <?php $curl = curl_init(); curl_setopt_array($curl, array( CURLOPT_URL => \"https://telecom0585-clients.bluerocktel.net/api/v1/sms/singleMessage?customerAccount=CL3578&singleSmsMessageId=1\", CURLOPT_RETURNTRANSFER => true, CURLOPT_ENCODING => \"\", CURLOPT_MAXREDIRS => 10, CURLOPT_TIMEOUT => 30, CURLOPT_HTTP_VERSION => CURL_HTTP_VERSION_1_1, CURLOPT_CUSTOMREQUEST => \"GET\", CURLOPT_POSTFIELDS => \"\", CURLOPT_HTTPHEADER => array( \"authorization: Bearer {token} \" ), )); $response = curl_exec($curl); $err = curl_error($curl); curl_close($curl); if ($err) { echo \"cURL Error #:\" . $err; } else { echo $response; } Python : import http.client conn = http.client.HTTPSConnection(\"telecom0585-clients.bluerocktel.net\") payload = \"\" headers = { 'authorization': \"Bearer {token} \" } conn.request(\"GET\", \"/api/v1/sms/singleMessage?customerAccount=CL3578&singleSmsMessageId=1\", payload, headers) res = conn.getresponse() data = res.read() print(data.decode(\"utf-8\")) Exemple de r\u00e9ponse Lorsque le message est trouv\u00e9, l'API retourne un code \"200 OK\" ainsi que les informations du message : { \"id\": 1, \"number\": \"00336********\", \"idSend\": \"Campaign XYZ\", \"message\": \"Hello World\", \"type\": null, \"status\": \"OK\", \"details\": \"SENDING CONFIRMED\", \"code\": \"000\" }","title":"Messages unitaires"},{"location":"sms-messages-unitaires/#messages-unitaires","text":"","title":"Messages unitaires"},{"location":"sms-messages-unitaires/#envoyer-un-message-unitaire","text":"POST /api/v1/sms/singleMessage","title":"Envoyer un message unitaire"},{"location":"sms-messages-unitaires/#parametres","text":"customerAccount * : compte client Encom recipient * : num\u00e9ro de t\u00e9l\u00e9phone du destinataire message * : texte du message type * : type du message, 't' pour 'transactionnel' ou 'm' pour marketing idSend: campagne d'envoi (facultatif) listener: url recevant la notification de r\u00e9sultat du message (facultatif) Note : le param\u00e8tre \"customerAccount\", qui correspond au compte client Encom, doit \u00eatre pass\u00e9 dans toutes les requ\u00eates vers l'API Clients Encom. En effet, le jeton d'identification est personnel et son d\u00e9tenteur peut dans certains cas avoir acc\u00e8s \u00e0 plusieurs comptes clients.","title":"Param\u00e8tres"},{"location":"sms-messages-unitaires/#mention-obligatoire-stop-au-36111","text":"Attention : pour tout envoi de message \u00e0 caract\u00e8re marketing (type 'm'), la mention \"STOP AU 36111\" est obligatoire afin de fournir \u00e0 vos destinataires un moyen de d\u00e9sinscription et de respecter les obligations de la CNIL. Lorsque vous postez un message de type marketing sur l'API en omettant cette mention, elle est automatiquement ajout\u00e9e \u00e0 la fin de votre message.","title":"Mention obligatoire \"STOP AU 36111\""},{"location":"sms-messages-unitaires/#exemples-de-requete","text":"","title":"Exemples de requ\u00eate"},{"location":"sms-messages-unitaires/#curl","text":"curl --request POST \\ --url 'https://telecom0585-clients.bluerocktel.net/api/v1/sms/singleMessage?customerAccount=CL3578&recipient=06********&message=Hello%20World!&type=t&=' \\ --header 'authorization: Bearer {token} '","title":"Curl"},{"location":"sms-messages-unitaires/#php","text":"<?php $curl = curl_init(); curl_setopt_array($curl, array( CURLOPT_URL => \"https://telecom0585-clients.bluerocktel.net/api/v1/sms/singleMessage?customerAccount=CL3578&recipient=06********&message=Hello%20World!&type=t&=\", CURLOPT_RETURNTRANSFER => true, CURLOPT_ENCODING => \"\", CURLOPT_MAXREDIRS => 10, CURLOPT_TIMEOUT => 30, CURLOPT_HTTP_VERSION => CURL_HTTP_VERSION_1_1, CURLOPT_CUSTOMREQUEST => \"POST\", CURLOPT_POSTFIELDS => \"\", CURLOPT_HTTPHEADER => array( \"authorization: Bearer {token} \" ), )); $response = curl_exec($curl); $err = curl_error($curl); curl_close($curl); if ($err) { echo \"cURL Error #:\" . $err; } else { echo $response; }","title":"PHP"},{"location":"sms-messages-unitaires/#python","text":"import http.client conn = http.client.HTTPSConnection(\"telecom0585-clients.bluerocktel.net\") payload = \"\" headers = { 'authorization': \"Bearer {token} \" } conn.request(\"POST\", \"/api/v1/sms/singleMessage?customerAccount=CL3578&recipient=06********&message=Hello%20World!&type=t&=\", payload, headers) res = conn.getresponse() data = res.read() print(data.decode(\"utf-8\"))","title":"Python"},{"location":"sms-messages-unitaires/#exemple-de-reponse","text":"Lorsque le message est planifi\u00e9 avec succ\u00e8s, l'API retourne un code \"201 Created\" ainsi que l'id du message : { \"store\": 20 }","title":"Exemple de r\u00e9ponse"},{"location":"sms-messages-unitaires/#obtenir-les-informations-relatives-un-message-envoye","text":"GET /api/v1/sms/singleMessage","title":"Obtenir les informations relatives un message envoy\u00e9"},{"location":"sms-messages-unitaires/#parametres_1","text":"customerAccount * : compte client Encom singleSmsMessageId","title":"Param\u00e8tres :"},{"location":"sms-messages-unitaires/#exemples-de-requete_1","text":"","title":"Exemples de requ\u00eate"},{"location":"sms-messages-unitaires/#curl_1","text":"curl --request GET \\ --url 'https://telecom0585-clients.bluerocktel.net/api/v1/sms/singleMessage?customerAccount=CL3578&singleSmsMessageId=1' \\ --header 'authorization: Bearer {token} '","title":"Curl :"},{"location":"sms-messages-unitaires/#php_1","text":"<?php $curl = curl_init(); curl_setopt_array($curl, array( CURLOPT_URL => \"https://telecom0585-clients.bluerocktel.net/api/v1/sms/singleMessage?customerAccount=CL3578&singleSmsMessageId=1\", CURLOPT_RETURNTRANSFER => true, CURLOPT_ENCODING => \"\", CURLOPT_MAXREDIRS => 10, CURLOPT_TIMEOUT => 30, CURLOPT_HTTP_VERSION => CURL_HTTP_VERSION_1_1, CURLOPT_CUSTOMREQUEST => \"GET\", CURLOPT_POSTFIELDS => \"\", CURLOPT_HTTPHEADER => array( \"authorization: Bearer {token} \" ), )); $response = curl_exec($curl); $err = curl_error($curl); curl_close($curl); if ($err) { echo \"cURL Error #:\" . $err; } else { echo $response; }","title":"PHP :"},{"location":"sms-messages-unitaires/#python_1","text":"import http.client conn = http.client.HTTPSConnection(\"telecom0585-clients.bluerocktel.net\") payload = \"\" headers = { 'authorization': \"Bearer {token} \" } conn.request(\"GET\", \"/api/v1/sms/singleMessage?customerAccount=CL3578&singleSmsMessageId=1\", payload, headers) res = conn.getresponse() data = res.read() print(data.decode(\"utf-8\"))","title":"Python :"},{"location":"sms-messages-unitaires/#exemple-de-reponse_1","text":"Lorsque le message est trouv\u00e9, l'API retourne un code \"200 OK\" ainsi que les informations du message : { \"id\": 1, \"number\": \"00336********\", \"idSend\": \"Campaign XYZ\", \"message\": \"Hello World\", \"type\": null, \"status\": \"OK\", \"details\": \"SENDING CONFIRMED\", \"code\": \"000\" }","title":"Exemple de r\u00e9ponse"}]}